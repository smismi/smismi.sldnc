<!DOCTYPE html>
<html class="no-js" lang="ru">


<head>
	<meta charset="utf-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="initial-scale=.8,user-scalable=no,maximum-scale=.8,width=device-width"/>

	<title>СЛАДУНИЦА</title>

	<script type="text/javascript" src="js/modernizr.custom.13938-min.js"></script>



	<script type="text/javascript" src="js/_dependent/greensock/TweenMax.min.js"></script>
	<!--<script type="text/javascript" src="js/_dependent/greensock/plugins/ScrollToPlugin.min.js"></script>-->
	<script type="text/javascript" src="js/jquery.2.0.js"></script>
	<script type="text/javascript" src="js/jquery.scrollmagic.js"></script>
	<!--<script type="text/javascript" src="js/jquery.scrollmagic.debug.js"></script>-->
	<script type="text/javascript" src="js/jquery.scrollto.js"></script>
	<!--<script type="text/javascript" src="js/jquery.rotation.js"></script>-->
	<!--<script type="text/javascript" src="js/queryLoader.js"></script>-->
	<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
	<script type="text/javascript" src="js/jquery.jcarousel.js"></script>

	<script type="text/javascript" src="js/common.js"></script>


	<link rel="stylesheet" href="css/fontface.css" type="text/css"/>
	<link rel="stylesheet" href="css/company.css" type="text/css"/>


	<!-- Add fancyBox -->
	<link rel="stylesheet" href="img/fancybox/source/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
	<script type="text/javascript" src="img/fancybox/source/jquery.fancybox.js?v=2.1.5"></script>


	<!-- Optionally add helpers - button, thumbnail and/or media -->
	<link rel="stylesheet" href="img/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen" />
	<script type="text/javascript" src="img/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
	<script type="text/javascript" src="img/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.6"></script>

	<link rel="stylesheet" href="img/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen" />
	<script type="text/javascript" src="img/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
</head>
<body>
<div id="content-wrapper">
	<div id="wrapper">



		<div class="scrollContent">

			<section id="section-3" class="company_page">

				<!-- third slide:begin -->
				<div class="third_slide">


				<div id="visualtour"  class="jcarousel">

					<ul  style="overflow: hidden">
						<li style="background-image: url(img/visualtour/01.jpg); background-size: cover;" data-descr="1"></li>
						<li style="background-image: url(img/visualtour/02.jpg); background-size: cover;" data-descr="2"></li>
						<li style="background-image: url(img/visualtour/03.jpg); background-size: cover;" data-descr="3"></li>
						<li style="background-image: url(img/visualtour/04.jpg); background-size: cover;" data-descr="4"></li>
						<li style="background-image: url(img/visualtour/05.jpg); background-size: cover;" data-descr="5"></li>
						<li style="background-image: url(img/visualtour/06.jpg); background-size: cover;" data-descr="6"></li>
						<li style="background-image: url(img/visualtour/07.jpg); background-size: cover;" data-descr="7"></li>
						<li style="background-image: url(img/visualtour/08.jpg); background-size: cover;" data-descr="8"></li>
					</ul>

					<div id="controls" style="margin-top: 	-123px; height: 123px; position: relative; z-index: 330; background: #720030">

						<div class="tour_control_wrapper">

							<div id="qwfqwfg" class="jcarousel-control-start">
								<em class="active"></em>
								<em></em>
							</div>
							<div class="tour_control jcarousel-pagination"></div>

							<div id="vwev">
								<div class="tour_control jcarousel-pagination"></div>
							</div>
						</div>
					</div>





				</div>





			</section>
		</div>
	</div>
</div>
<script>
	$.fn.toggleClick = function(){
		var methods = arguments, // store the passed arguments for future reference
				count = methods.length; // cache the number of methods

		//use return this to maintain jQuery chainability
		return this.each(function(i, item){
			// for each element you bind to
			var index = 0; // create a local counter for that element
			$(item).click(function(){ // bind a click handler to that element
				return methods[index++ % count].apply(this,arguments); // that when called will apply the 'index'th method to that element
				// the index % count means that we constrain our iterator between 0 and (count-1)
			});
		});
	};


	$(document).ready(function ($) {




		var tween;

		$('#visualtour')
				.on('jcarousel:create jcarousel:reload', function() {
					var element = $(this),
							width = element.innerWidth();
					element.jcarousel('items').css('width', width + 'px');


				})
				.jcarousel({
					// Your configurations options
				})
				.jcarouselAutoscroll({
					interval: 2000,
					target: '+=1',
					autostart: false
				})
				.on('jcarousel:animateend', function(event, carousel, target, animate) {





				});

		$('#visualtour .jcarousel-control-prev')
				.on('jcarouselcontrol:active', function() {
					$(this).removeClass('inactive');
				})
				.on('jcarouselcontrol:inactive', function() {
					$(this).addClass('inactive');
				})
				.jcarouselControl({
					target: '-=1'
				});

		$('#visualtour .jcarousel-control-next')
				.on('jcarouselcontrol:active', function() {
					$(this).removeClass('inactive');
				})
				.on('jcarouselcontrol:inactive', function() {
					$(this).addClass('inactive');
				})
				.jcarouselControl({
					target: '+=1'
				});

		$('#visualtour .jcarousel-control-start').toggleClick(
				function () {

					$("em", this).removeClass("active").eq(1).addClass("active");
//					$('.jcarousel').jcarouselAutoscroll('stop');

					tween.pause()

				}, function () {
					$("em", this).removeClass("active").eq(0).addClass("active");
//					$('.jcarousel').jcarouselAutoscroll('start');

					tween.play()
				}

		);

		$('#visualtour .jcarousel-pagination')
				.on('jcarouselpagination:active', 'div', function() {

					$(this).addClass('active')


					var n = $('#vwev .tour_control_item').index($(this))
//

					if (n != -1) {


						TweenMax.to("#vwev", .3,
								{
									width: 125 * n + 0 + 10, onComplete: function () {

									return;
//									tween = TweenMax.fromTo("#vwev", 4,
//											{
//												width: 125 * n + 0 + 10
//											},
//											{
//												width: 125 * n + 125 + 10,
//												ease: Linear.easeNone,
//												repeat: 0,
//												repeatDelay: 0,
//
//												onComplete: function () {
//
//													$('.jcarousel').jcarousel('scroll', n + 1);
//
//												},
//												onRepeat: function () {
//
//													$('.jcarousel').jcarousel('scroll', i);
//
//													i++;
//
//												}
//											});
								}});


					}


				})
				.on('jcarouselpagination:inactive', 'div', function() {
					$(this).removeClass('active');
				})
				.jcarouselPagination({
						item: function(page) {
 							return '<div class="tour_control_item"><em/><abbr/></div>';
						},
						event:  'click',
						method: 'scroll'

				});

//		$('#visualtour .jcarousel-pagination2')
//				.on('jcarouselpagination:active', 'li', function() {
//					$(this).addClass('active');
////
////					var _i = $('#vwev .tour_control_item').index($(this))
////
////
////					if (_i !== -1) {
////
////						animateBlock.animate(_i);
////					}
//				})
//				.on('jcarouselpagination:inactive', 'li', function() {
//					$(this).removeClass('active');
//				})
//				.jcarouselPagination({
//						item: function(page) {
// 							return '<div class="tour_control_item"><em/></div>';
//						},
//						event:  'click',
//						method: 'scroll'
//
//				});
//


	});




</script>



</body>
</html>