<!DOCTYPE html>
<html class="no-js" lang="ru">


<head>
	<meta charset="utf-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="initial-scale=.5,user-scalable=yes,maximum-scale=2,width=device-width"/>

	<title>TEST</title>

	<script type="text/javascript" src="js/modernizr.custom.13938-min.js"></script>


	<script type="text/javascript" src="js/_dependent/greensock/TweenMax.min.js"></script>
	<script type="text/javascript" src="js/_dependent/jquery-1.11.0.min.js"></script>
	<script type="text/javascript" src="js/jquery.scrollmagic.js"></script>
	<script type="text/javascript" src="js/jquery.scrollmagic.debug.js"></script>
	<script type="text/javascript" src="js/_mobile/iscroll.js"></script>
	<script type="text/javascript" src="js/jquery.scrollto.js"></script>
	<script type="text/javascript" src="js/jquery.rotation.js"></script>
	<script type="text/javascript" src="js/queryLoader.js"></script>
	<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
	<script type="text/javascript" src="js/jquery.mousewheel.min.js"></script>
	<script type="text/javascript" src="js/jquery.mCustomScrollbar.js"></script>


	<script type="text/javascript" src="js/common.js"></script>


	<link rel="stylesheet" href="css/fontface.css" type="text/css"/>
	<link rel="stylesheet" href="css/common.css" type="text/css"/>
	<link rel="stylesheet" href="css/queryLoader.css" type="text/css"/>
	<link rel="stylesheet" href="css/jquery.mCustomScrollbar.css" type="text/css"/>
    <style>
        #content-wrapper {
            margin: 40px;
            width: 50%;
            height: 500px;
            padding: 20px;
            overflow: auto;
            background: #333;
            -webkit-border-radius: 3px;
            -moz-border-radius: 3px;
            border-radius: 3px;
        }
    </style>
</head>
<body>

    <div id="content-wrapper">
        <section id="section-1" style="height:910px; background: url('img/bg/bg3.jpg')">12341</section>

        <section id="section-3" style="height:1000px; background: url('img/bg/bg2.jpg')">
            <div class="wrapper">
             <div class="section-3-bg-25 section-big-title">
                 <h1>1412351235</h1>

             </div>
            </div>


         </section>
            <section id="section-4" style="height:900px; background: url('img/bg/bg3.jpg')">12341</section>

    </div>
    <script>







        $(window).load(function(){
            $("#content-wrapper").mCustomScrollbar({
                callbacks:{
//                        onScrollStart:function(){ OnScrollStart(); },
                    whileScrolling:function(){ OnScroll(); }
//                        onTotalScroll:function(){ OnTotalScroll(); },
//                        onTotalScrollBack:function(){ OnTotalScrollBack(); },
//                        onTotalScrollOffset:40,
//                        onTotalScrollBackOffset:20,
//                        whileScrolling:function(){ WhileScrolling(); }
                }
            });

            function OnScroll(){
                SL.controller.update();
            }
        });

        $(document).ready(function ($) {


            SL.initScrollMagik();






//
            var tween2 = new TimelineMax ()
                    .add([
                        TweenMax.fromTo("#section-3",1, {backgroundPosition: "140% 0"},{backgroundPosition: "-140% 0", ease: Linear.easeNone}),
//                        TweenMax.fromTo("#section-3 .section-big-title",1, {y: -100}, {y: 100, ease: Linear.easeNone})
                    ]);

            new ScrollScene({triggerElement: "#section-3", duration: 1000})
                    .setTween(tween2)
                    .triggerHook(1)
                    .addTo(SL.controller).on("enter", function (event) {
                        console.log("3st enter")
                    })
                    .on("leave", function (event) {
                        console.log("3st leave")
                    }).addIndicators();


            new ScrollScene({triggerElement: "#section-4", duration: 1000})
//                    .setTween(tween2)
                    .triggerHook(1)
                    .addTo(SL.controller).on("enter", function (event) {
                        console.log("4st enter")
                    })
                    .on("leave", function (event) {
                        console.log("4st leave")
                    }).addIndicators();





        });


    </script>

</body>
</html>